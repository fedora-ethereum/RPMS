From: Peter Lemenkov <lemenkov@gmail.com>
Date: Tue, 1 Nov 2022 20:45:19 +0100
Subject: [PATCH] Use Cryptodomex

Signed-off-by: Peter Lemenkov <lemenkov@gmail.com>

diff --git a/setup.py b/setup.py
index 40efb436..c4216d95 100644
--- a/setup.py
+++ b/setup.py
@@ -94,7 +94,7 @@ setup(
     install_requires=[
         "cbor2>=5.4.6,<6",
         "asttokens>=2.0.5,<3",
-        "pycryptodome>=3.5.1,<4",
+        "pycryptodomex>=3.5.1,<4",
         "packaging>=23.1,<24",
         "importlib-metadata",
         "wheel",
diff --git a/vyper/utils.py b/vyper/utils.py
index 3d9d9cb4..2632586f 100644
--- a/vyper/utils.py
+++ b/vyper/utils.py
@@ -42,7 +42,7 @@ decimal.setcontext(DecimalContextOverride(prec=78))
 
 
 try:
-    from Crypto.Hash import keccak  # type: ignore
+    from Cryptodome.Hash import keccak  # type: ignore
 
     keccak256 = lambda x: keccak.new(digest_bits=256, data=x).digest()  # noqa: E731
 except ImportError:
